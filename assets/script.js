const allButtons=[
  // arrange all buttons in time order

  {
    text: 'Thats me, a push notification',
    text1: 'clear',
    x: 25,
    y: 55,
    time: 5.5,
    width: 300,
    height: 100,
    fonts: 'sans-serif',
    fontsize: 18,
  },
  {
 text: 'BlackBerry launched for the first time push email in 2003',
    text1: 'clear',
    x: 50,
    y: 30,
    time: 30,
    width: 600,
    height: 100,
    fonts: 'sans-serif',
    fontsize: 18,
  },

    {
   text: 'Do you remember your first kiss?',
      text1: 'clear',
      x: 40,
      y: 50,
      time: 63.5,
      fonts: 'sans-serif',
      fontsize: 18,
    },
  {
 text: 'Me',
    text1: 'clear',
    x: 110,
    y: 70,
    time: 91,
    fonts: 'sans-serif',
    fontsize: 18,

  },
  {
 text: 'me',
    text1: 'clear',
    x: 10,
    y: 20,
    time: 91,
    fonts: 'sans-serif',
    fontsize: 18,
  },
  {
 text: 'me',
    text1: 'clear',
    x: 10,
    y: 20,
    time: 89,
    fonts: 'sans-serif',
    fontsize: 18,
  },

   {
   text: 'The first state law in the nation to require commercial websites and online services to post a privacy policy, the CalOPPA went into effect in 2004. It was amended in 2013 to require new privacy disclosures regarding tracking of online visits.',
      text1: 'clear',
      x: 10,
      y: 20,
      time: 97,
      fonts: 'sans-serif',
      fontsize: 18,
      width: 700,
      height: 180,
    },
     {
     text: 'lets take a second',
        text1: 'clear',
        x: 66,
        y: 43,
        time: 155,
        fonts: 'sans-serif',
        fontsize: 18,
      },

     {
     text: 'like this',
        text1: 'ignore',
        x: 34,
        y: 25,
        time: 197,
        fonts: 'sans-serif',
        fontsize: 18,
      },
      {
      text: 'and like this',
         text1: 'ignore',
         x: 65,
         y: 30,
         time: 197,
         fonts: 'sans-serif',
         fontsize: 18,
       },
       {
       text: 'and this',
          text1: 'ignore',
          x: 120,
          y: 77,
          time: 197,
          fonts: 'sans-serif',
          fontsize: 18,
        },
        {
        text: 'what about this?',
           text1: 'ignore',
           x: 100,
           y: 20,
           time: 197,
           fonts: 'sans-serif',
           fontsize: 18,
         },
         {
         text: 'something like this?',
            text1: 'ignore',
            x: 99,
            y: 32,
            time: 197,
            fonts: 'sans-serif',
            fontsize: 18,
          },
          {
          text: 'possibily THIS',
             text1: 'ignore',
             x: 75,
             y: 5,
             time: 197,
             fonts: 'sans-serif',
             fontsize: 18,
           },
                 {
                 text: 'should i send you a push when the coronavirus is over?',
                    text1: 'clear',
                    x: 60,
                    y: 40,
                    width: 300,
                    height: 200,
                    time: 251,
                    fonts: 'sans-serif',
                    fontsize: 18,
                  },
                  {
                  text: 'should i send you a push when there is a new slot on amazon fresh?',
                     text1: 'clear',
                     x: 40,
                     y: 20,
                     width: 300,
                     height: 200,
                     time: 259,
                     fonts: 'sans-serif',
                     fontsize: 18,
                   },
                   {
                   text: '5 top buzfeed articles!',
                      text1: 'clear',
                      x: 10,
                      y: 20,
                      width: 200,
                      height: 100,
                      time: 268,
                      fonts: 'sans-serif',
                      fontsize: 18,
                    },
                    {
                    text: 'The Wednesday crossword is ready to play!',
                       text1: 'clear',
                       x: 10,
                       y: 20,
                       time: 268,
                       fonts: 'sans-serif',
                       fontsize: 18,
                     },
                     {
                     text: 'spotify - make yourself at home, there is always something to play',
                        text1: 'clear',
                        x: 65,
                        y: 42,
                        time: 268,
                        fonts: 'sans-serif',
                        fontsize: 18,
                      },
                      {
                      text: 'FLOOD ALERT!',
                         text1: 'clear',
                         x: 34,
                         y: 66,
                         time: 268,
                         fonts: 'sans-serif',
                         fontsize: 18,
                       },
                       {
                       text: 'google calander ALERT!',
                          text1: 'clear',
                          x: 99,
                          y: 33,
                          time: 268,
                          fonts: 'sans-serif',
                          fontsize: 18,
                        },





                        {
                          text: 'Thats me, a push notification',
                          text1: 'clear',
                          x: 25,
                          y: 55,
                          time: 283,
                          width: 300,
                          height: 100,
                          fonts: 'sans-serif',
                          fontsize: 18,
                        },
                        {
                       text: 'BlackBerry launched for the first time push email in 2003',
                          text1: 'clear',
                          x: 50,
                          y: 30,
                          time: 283,
                          width: 600,
                          height: 100,
                          fonts: 'sans-serif',
                          fontsize: 18,
                        },

                          {
                         text: 'Do you remember your first kiss?',
                            text1: 'clear',
                            x: 40,
                            y: 50,
                            time: 283,
                            fonts: 'sans-serif',
                            fontsize: 18,
                          },
                        {
                       text: 'Me',
                          text1: 'clear',
                          x: 110,
                          y: 70,
                          time: 283,
                          fonts: 'sans-serif',
                          fontsize: 18,

                        },
                        {
                       text: 'me',
                          text1: 'clear',
                          x: 10,
                          y: 20,
                          time: 283,
                          fonts: 'sans-serif',
                          fontsize: 18,
                        },
                        {
                       text: 'me',
                          text1: 'clear',
                          x: 10,
                          y: 20,
                          time: 283,
                          fonts: 'sans-serif',
                          fontsize: 18,
                        },

                         {
                         text: 'The first state law in the nation to require commercial websites and online services to post a privacy policy, the CalOPPA went into effect in 2004. It was amended in 2013 to require new privacy disclosures regarding tracking of online visits.',
                            text1: 'clear',
                            x: 10,
                            y: 20,
                            time: 283,
                            fonts: 'sans-serif',
                            fontsize: 18,
                            width: 700,
                            height: 180,
                          },
                           {
                           text: 'lets take a second',
                              text1: 'clear',
                              x: 66,
                              y: 43,
                              time: 283,
                              fonts: 'sans-serif',
                              fontsize: 18,
                            },

                           {
                           text: 'like this',
                              text1: 'ignore',
                              x: 34,
                              y: 25,
                              time: 283,
                              fonts: 'sans-serif',
                              fontsize: 18,
                            },
                            {
                            text: 'and like this',
                               text1: 'ignore',
                               x: 65,
                               y: 30,
                               time: 283,
                               fonts: 'sans-serif',
                               fontsize: 18,
                             },
                             {
                             text: 'and this',
                                text1: 'ignore',
                                x: 120,
                                y: 77,
                                time: 283,
                                fonts: 'sans-serif',
                                fontsize: 18,
                              },
                              {
                              text: 'what about this?',
                                 text1: 'ignore',
                                 x: 100,
                                 y: 20,
                                 time: 283,
                                 fonts: 'sans-serif',
                                 fontsize: 18,
                               },
                               {
                               text: 'something like this?',
                                  text1: 'ignore',
                                  x: 99,
                                  y: 32,
                                  time: 197,
                                  fonts: 'sans-serif',
                                  fontsize: 18,
                                },
                                {
                                text: 'possibily THIS',
                                   text1: 'ignore',
                                   x: 75,
                                   y: 5,
                                   time: 283,
                                   fonts: 'sans-serif',
                                   fontsize: 18,
                                 },
                                       {
                                       text: 'should i send you a push when the coronavirus is over?',
                                          text1: 'clear',
                                          x: 60,
                                          y: 40,
                                          width: 300,
                                          height: 200,
                                          time: 283,
                                          fonts: 'sans-serif',
                                          fontsize: 18,
                                        },
                                        {
                                        text: 'should i send you a push when there is a new slot on amazon fresh?',
                                           text1: 'clear',
                                           x: 40,
                                           y: 20,
                                           width: 300,
                                           height: 200,
                                           time: 283,
                                           fonts: 'sans-serif',
                                           fontsize: 18,
                                         },
                                         {
                                         text: '5 top buzfeed articles!',
                                            text1: 'clear',
                                            x: 10,
                                            y: 20,
                                            width: 200,
                                            height: 100,
                                            time: 283,
                                            fonts: 'sans-serif',
                                            fontsize: 18,
                                          },
                                          {
                                          text: 'The Wednesday crossword is ready to play!',
                                             text1: 'clear',
                                             x: 10,
                                             y: 20,
                                             time: 283,
                                             fonts: 'sans-serif',
                                             fontsize: 18,
                                           },
                                           {
                                           text: 'spotify - make yourself at home, there is always something to play',
                                              text1: 'clear',
                                              x: 65,
                                              y: 42,
                                              time: 283,
                                              fonts: 'sans-serif',
                                              fontsize: 18,
                                            },
                                            {
                                            text: 'FLOOD ALERT!',
                                               text1: 'clear',
                                               x: 34,
                                               y: 66,
                                               time: 283,
                                               fonts: 'sans-serif',
                                               fontsize: 18,
                                             },
                                             {
                                             text: 'google calander ALERT!',
                                                text1: 'clear',
                                                x: 99,
                                                y: 33,
                                                time: 283,
                                                fonts: 'sans-serif',
                                                fontsize: 18,
                                              },




];
// remember how many buttons are active
let activeButtons=0;

function buttonClicked (element){
  // console.log('clicked!');
  // everytime button is clicked remove from counter and remove element
  activeButtons-=1;
  element.parentNode.removeChild(element);
  // if all buttons removed, play the video
  if (activeButtons===0)
  document.getElementById("myVideo").play();
}

function addButton (btn){
  // create a new button with text,x,y
  // pause the video and add to registry
  document.getElementById("myVideo").pause();
  activeButtons+=1;

  const n_wrapper = document.createElement("div");
  const n_body = document.createElement("div");
  const n_button = document.createElement("div");

  n_wrapper.className="notification";
  n_body.className="notification__body";
  n_button.className="notification__button";

  n_wrapper.style.top=btn.y+"vh";
  n_wrapper.style.left=btn.x+"vh";

  //https://www.w3schools.com/jsref/prop_style_backgroundcolor.asp

  n_body.style.width=btn.width+"px";
  n_body.style.height=btn.height+"px";
  n_button.style.width=btn.width+"px";



  n_body.style.fontFamily=btn.fonts;
  n_button.style.fontFamily=btn.fonts;

  n_body.style.fontSize=btn.fontsize+"px";
  n_button.style.fontSize=btn.fontsize+"px";

  // n_button.style.fontFamily=btn.fonts;



  n_body.innerText=btn.text;
  n_button.innerText=btn.text1;


  n_button.onclick= ()=>buttonClicked(n_wrapper);

  n_wrapper.appendChild(n_body);
  n_wrapper.appendChild(n_button);
  document.body.appendChild(n_wrapper);
}

// autostart video

function init() {

//this!
  var overlay = document.getElementById( 'overlay' );
  			overlay.remove();


setTimeout(function(){document.getElementById("myVideo").play()},100);


setInterval(function(){
  // get time of video every X ms
  const currentTime=document.getElementById("myVideo").currentTime;
  // console.log(currentTime);
  allButtons.forEach(button=>{
    // iterate over all the buttons to see if they need to be triggered
    if (!button.played && currentTime-0.300<button.time && currentTime+0.300>button.time){
      addButton(button);
      // set button to trigger only once
      button.played=true;

      // allButtons.shift();
    }
  })
},500)
}


window.onload = function (){
  //this!
  var startButton = document.getElementById( 'startButton' );
  		startButton.addEventListener( 'click', init );
}


// setTimeout(function(){document.getElementById("myVideo").play()},100);
//
//
// setInterval(function(){
//   // get time of video every X ms
//   const currentTime=document.getElementById("myVideo").currentTime;
//   // console.log(currentTime);
//   allButtons.forEach(button=>{
//     // iterate over all the buttons to see if they need to be triggered
//     if (!button.played && currentTime-0.300<button.time && currentTime+0.300>button.time){
//       addButton(button);
//       // set button to trigger only once
//       button.played=true;
//
//       // allButtons.shift();
//     }
//   })
// },500)


// TODO: change this
// example of adding buttons
// setTimeout(()=>addButton('test',100,100),7000);
// setTimeout(()=>addButton('test2',50,20),15000);
// setTimeout(()=>addButton('test3',200,200),16000);
// setTimeout(()=>addButton('test4',200,10),25000);

/*
function addButton (text,x,y){
  // create a new button with text,x,y
  // pause the video and add to registry
  document.getElementById("myVideo").pause();
  activeButtons+=1;
  const el = document.createElement("div");
  el.className="myButton";
  el.onclick= ()=>buttonClicked(el);
  el.innerText=text;
  el.style.top=y+"px";
  el.style.left=x+"px";
  document.body.appendChild(el);
}
*/
